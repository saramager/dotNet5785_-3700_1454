<Window x:Class="PL.Volunteer.VolunteerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL.Volunteer"
        mc:Ignorable="d"
        Title="VolunteerWindow" Height="600" Width="1200"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="400"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Side - Volunteer Information -->
        <DockPanel Grid.Column="0" Margin="10">
            <Button DockPanel.Dock="Bottom" Content="{Binding ButtonText}" 
                    Click="btnAddUpdate_Click" Height="40" Margin="0,10,0,0" 
                    FontSize="14"/>

            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="0,0,0,10">
                    <GroupBox Header="Volunteer Information" Padding="5">
                        <StackPanel>
                            <!-- ID -->
                            <Label Content="ID"/>
                            <TextBox Text="{Binding CurrentVolunteer.Id, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                     Height="25" Margin="0,0,0,10"
                                     IsReadOnly="{Binding ButtonText, Converter={StaticResource ConvertUpdateToTrueKey}}"/>

                            <!-- Name -->
                            <Label Content="Name"/>
                            <TextBox Text="{Binding CurrentVolunteer.fullName, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                     Height="25" Margin="0,0,0,10"/>

                            <!-- Email -->
                            <Label Content="Email"/>
                            <TextBox Text="{Binding CurrentVolunteer.email, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                     Height="25" Margin="0,0,0,10"/>

                            <!-- Phone -->
                            <Label Content="Phone Number"/>
                            <TextBox Text="{Binding CurrentVolunteer.phone, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                     Height="25" Margin="0,0,0,10"/>

                            <!-- Password -->
                            <Label Content="Password"/>
                            <TextBox Text="{Binding CurrentVolunteer.password, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                     Height="25" Margin="0,0,0,10"/>

                            <!-- Address -->
                            <Label Content="Full Address"/>
                            <TextBox Text="{Binding CurrentVolunteer.currentAddress, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                     Height="25" Margin="0,0,0,10"/>

                            <!-- Role -->
                            <Label Content="Role"/>
                            <ComboBox Height="25" Margin="0,0,0,10"
                                      SelectedItem="{Binding CurrentVolunteer.role, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                      ItemsSource="{Binding Source={StaticResource VolunteerRolesKey}}"/>

                            <!-- Active Status -->
                            <CheckBox IsChecked="{Binding Path=CurrentVolunteer.active}"
                                      Content="Active Volunteer"
                                      Margin="0,0,0,10"/>

                            <!-- Max Distance -->
                            <Label Content="Max Distance for Call"/>
                            <TextBox Text="{Binding CurrentVolunteer.maxDistance, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                     Height="25" Margin="0,0,0,10"/>

                            <!-- Distance Type -->
                            <Label Content="Distance Type"/>
                            <ComboBox Height="25" Margin="0,0,0,10"
                                      SelectedItem="{Binding CurrentVolunteer.distanceType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                      ItemsSource="{Binding Source={StaticResource DistanceTypeKey}}"/>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </ScrollViewer>
        </DockPanel>

        <!-- Right Side - Calls In Progress -->
        <DockPanel Grid.Column="1" Margin="10">
            <Label DockPanel.Dock="Top" Content="Current Calls" FontSize="16" FontWeight="Bold"/>
            <DataGrid ItemsSource="{Binding callProgress}" 
                      AutoGenerateColumns="False" 
                      IsReadOnly="True"
                      CanUserAddRows="False"
                      CanUserDeleteRows="False"
                      CanUserReorderColumns="True"
                      CanUserResizeColumns="True"
                      CanUserSortColumns="True"
                      AlternatingRowBackground="LightGray"
                      GridLinesVisibility="All">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding ID}" Width="Auto"/>
                    <DataGridTextColumn Header="Call ID" Binding="{Binding CallId}" Width="Auto"/>
                    <DataGridTextColumn Header="Type" Binding="{Binding callT}" Width="Auto"/>
                    <DataGridTextColumn Header="Description" Binding="{Binding verbalDescription}" Width="*"/>
                    <DataGridTextColumn Header="Address" Binding="{Binding address}" Width="*"/>
                    <DataGridTextColumn Header="Open Time" Binding="{Binding openTime, StringFormat='dd/MM/yyyy HH:mm'}" Width="Auto"/>
                    <DataGridTextColumn Header="Max Time" Binding="{Binding maxTime, StringFormat='dd/MM/yyyy HH:mm'}" Width="Auto"/>
                    <DataGridTextColumn Header="Start Treatment" Binding="{Binding startTreatment, StringFormat='dd/MM/yyyy HH:mm'}" Width="Auto"/>
                    <DataGridTextColumn Header="Distance" Binding="{Binding CallDistance}" Width="Auto"/>
                    <DataGridTextColumn Header="Status" Binding="{Binding statusT}" Width="Auto"/>
                </DataGrid.Columns>
            </DataGrid>
        </DockPanel>
    </Grid>
</Window>